#!perl

my $quot = 3;
while(<DATA>) {
  my $line = $_;
  my @coeffs = map { $_ = substr($_, 1); 
      if (($_ % $quot) != 0) { 
          print STDERR "######## $_ % 3 != 0\n"; 
      } $_  
      } ($line =~ m{(\^\d+)}g);
  $line =~ s{\^(\d+)}{"^" . ($1/$quot)}eg;
  $line =~ s{z\^}{x\^}g;
  print $line;
} # while

my $maple = <<'GFis';
seq(coeff(series( (1 + x^3 + x^4 + x^5 + 2*x^6 + 3*x^7 + 2*x^8 + 3*x^9 + 4*x^10 + 3*x^11 + 4*x^12 + 4*x^13 + 3*x^14 + 4*x^15 + 3*x^16 + 2*x^17 + 3*x^18 + 2*x^19 + x^20 + x^21 + x^25)/(1 - x^1 - x^2 + x^5 + 2*x^7 - 2*x^9 - x^12 + x^14 - x^16 + x^18 + 2*x^21 - 2*x^23 - x^25 + x^28 + x^29 - x^30), x, n+1), x, n), n = 0..30);

(1,1,0,0,-1,0,-2,0,2,0,0,1,0,-1,0,1,0,-1,0,0,-2,0,2,0,1,0,0,-1,-1,1)

GFis


__DATA__
make runpf NT=46 NUM="1 + z^9 + z^12 + z^15 + 2*z^18 + 3*z^21 + 2*z^24 + 3*z^27 + 4*z^30 + 3*z^33 + 4*z^36 + 4*z^39 + 3*z^42 + 4*z^45 + 3*z^48 + 2*z^51 + 3*z^54 + 2*z^57 + z^60 + z^63 + z^75" 
   DEN="- z^3 - z^6 + z^15 + 2*z^21 - 2*z^27 - z^36 + z^42 - z^48 + z^54 + 2*z^63 - 2*z^69 - z^75 + z^84 + z^87 - z^90 + 1"
   | tee x.tmp