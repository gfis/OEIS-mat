#!perl

# a079908.pl - generate for Dance Schoool Problem (Japp Spies)
# Dancing School Problem
# 2021-04-26, Georg Fischer
use strict;
use integer;

my $dummy_comment = <<GFis;
A000027 10  1,2,3,4,5,6,7,8,9,10
A002061 10  1,3,7,13,21,31,43,57,73,91
A079908 40  1,4,14,36,76,140,234,364,536,756,1030,1364,1764,2236,2786,3420,4144,4964,5886,6916,8060,9324,10714,12236,13896,15700,17654,19764,22036,24476,27090,29884,32864,36036,39406,42980,46764,50764,54986,59436
A079909 34  1,5,26,90,246,566,1146,2106,3590,5766,8826,12986,18486,25590,34586,45786,59526,76166,96090,119706,147446,179766,217146,260090,309126,364806,427706,498426,577590,665846,763866,872346,992006,1123590
A079910 31  1,6,46,212,738,2104,5150,11196,22162,40688,70254,115300,181346,275112,404638,579404,810450,1110496,1494062,1977588,2579554,3320600,4223646,5314012,6619538,8170704,10000750,12145796,14644962,17540488,20877854
A079911 28  1,7,79,478,2108,7364,21652,55532,127604,268108,523244,960212,1672972,2788724,4475108,6948124,10480772,15412412,22158844,31223108,43207004,58823332,78908852,104437964,136537108,176499884,225802892,286122292
A079912 25  1,8,133,1044,5794,24720,86608,260720,693552,1666000,3675680,7549488,14591440,26770832,46955760,79197040,129067568,204062160,314062912,471875120,693838800,1000520848,1417492880,1976199792,2714924080
A079913 26  1,9,221,2227,15458,80196,334072,1173240,3598120,9856552,24553080,56423032,121013800,244555560,469343992,860997880,1517994792,2583928360,4262971000,6839066232,10699415080,16362861352,24513820920,36042440440,52091711272,74112304680
A079914 22  1,10,364,4664,40296,253072,1249768,5112544,17990600,56010096,157175032,403579328,959942664,2136701200,4488418616,8961185952,17105944648,31378295984,55549351800,95256535936,158727963272,257719103568
A079915 19  1,11,596,9627,103129,780902,4557284,21670160,87396728,308055528,971055240,2780440664,7324967640,17945144328,41249101928,89635336440,185317652664,366517590440,696695849928
A079916 19  1,12,972,19640,260019,2365772,16266830,89700624,413977192,1650607040,5826331440,18558391936,54055214144,145576033920,365883104080,865023114560,1936764883296,4130528893504,8433028861040
A079917 15  1,13,1581,39684,647617,7058469,57031078,363862092,1918222840,8641355080,34132685120,120629547584,387665694976,1145875468544,3145428883520
A079918 14  1,14,2567,79544,1596800,20789082,196933710,1450606028,8719846960,44321202192,195717772000,767025716736,2713659864832,8787898861568
A079919 13  1,15,4163,158364,3904260,60560175,671224467,5697401802,38983643908,223245029176,1100925116264,4780871048064,18612106195456
A079920 12  1,16,6746,313464,9479292,174763208,2262089361,22088730348,171764779170,1106667645872,6087616677864,29267369636800,125299076209408,485013257865472,1718947213795328
A079921 36  3,7,14,26,46,79,133,221,364,596,972,1581,2567,4163,6746,10926,17690,28635,46345,75001,121368,196392,317784,514201,832011,1346239,2178278,3524546,5702854,9227431,14930317,24157781,39088132,63245948,102334116,165580101
A079922 28  4,13,36,90,212,478,1044,2227,4664,9627,19640,39684,79544,158364,313464,617365,1210588,2364713,4603388,8934142,17291756,33385018,64311660,123634471,237233712,454429239,869095472,1659708488
A079923 24  5,21,76,246,738,2108,5794,15458,40296,103129,260019,647617,1596800,3904260,9479292,22879520,54947836,131406732,313129592,743878505,1762572329,4167010597,9832766588,23164353834
A079924 23  6,31,140,566,2104,7364,24720,80196,253072,780902,2365772,7058469,20789082,60560175,174763208,500245052,1421824896,4016278792,11283371280,31547434008,87827653936,243578509132,673221043496
A079925 20  7,43,234,1146,5150,21652,86608,334072,1249768,4557284,16266830,57031078,196933710,671224467,2262089361,7548882573,24975936372,82012110724,267505920876,867390073384
A079926 20  8,57,364,2106,11196,55532,260720,1173240,5112544,21670160,89700624,363862092,1450606028,5697401802,22088730348,84669409935,321307769052,1208513572803,4509661963752,16709568237540
A079927 20  9,73,536,3590,22162,127604,693552,3598120,17990600,87396728,413977192,1918222840,8719846960,38983643908,171764779170,747190081890,3213760467348,13684132415133,57742830924831,241687792906641
A079928 19  10,91,756,5766,40688,268108,1666000,9856552,56010096,308055528,1650607040,8641355080,44321202192,223245029176,1106667645872,5409040818588,26108349881112,124618084809174,588875653169028

http://www.jaapspies.nl/oeis/ds.sage to compute f(g,h)

http://www.jaapspies.nl/mathfiles/dancing.sage
sage: for p in (2..15):
....:     dance(p)

f(14,13) = 65909241461760
f(14,14) = -214868401724416

              29267369636800
A079920(12)= 125299076209408
f(15,12) =  -125299076209408
f(15,13) =   485013257865472
f(15,14) = -1718947213795328
f(15,15) =  5636819806209792
#        9876543210987654321

n^14 - 77*n^13 + 3094*n^12 - 83083*n^11 + 1637636*n^10 - 24785761*n^9 + 294696402*n^8 - 2779448529*n^7 + 20797459683*n^6 - 122389753486*n^5 + 555826054784*n^4 - 1883902028008*n^3 + 4494445040176*n^2 - 6742111050752*n + 4789534153984
n^15 - 90*n^14 + 4200*n^13 - 131040*n^12 + 3011190*n^11 - 53441388*n^10 + 751250500*n^9 - 8470570680*n^8 + 76896261585*n^7 - 560015385930*n^6 + 3235452199980*n^5 - 14525684311320*n^4 + 48947506506080*n^3 - 116650912956480*n^2 + 175512302620800*n - 125495209214208
GFis
my %matrix;
my %initerms;
my %g; # parameter g of f(g,h)
my ($aseqno, $callcode, @parms);

while (<DATA>) {
    next if ! m{\AA\d}; # does not start with A-number
    s/\s+\Z//; # chompr
    ($aseqno, $callcode, @parms) = split(/\t/);
    if (0) {
    } elsif ($callcode eq "poly") {
        my ($pg, $formula) = ($parms[1], "1*" . $parms[2]);
        $g{$aseqno} = $pg;
        $formula =~ s{\*h(\^\d+)?}{}g;
        $formula =~ s{([\+\-]) }{$1}g;
        $formula =~ s{\+}{}g;
        $matrix{$aseqno} = join(",", reverse(split(/\s+/, $formula)));
    } elsif ($callcode eq "terms") {
        my ($termno, $termlist) = ($parms[1], $parms[2]);
        my @terms = split(/\,/, $termlist);
        if (scalar(@terms) < $g{$aseqno} - 2) {
            print "# $aseqno: too few init.terms, present: " . scalar(@terms) . ", needed: " . ($g{$aseqno} - 2) . "\n";
        }
        $initerms{$aseqno} = join(",", splice(@terms, 0, $g{$aseqno} - 2));
    }
} # while <>

foreach my $key(sort(keys(%matrix))) {
    print join("\t", $key, "holos", 0, "[[$matrix{$key}],[-1]]", "[$initerms{$key}]", 0, "", $g{$aseqno}). "\n";
} # foreach $key
#-------------------------------------
__DATA__
# A000027	poly	0	1	h^1 + 1
# A002061	poly	0	2	h^2 + 1*h + 1
A079908	poly	0	3	h^3 + 0*h^2 + 3*h + 0
A079909	poly	0	4	h^4 - 2*h^3 + 9*h^2 - 8*h + 6
A079910	poly	0	5	h^5 - 5*h^4 + 25*h^3 - 55*h^2 + 80*h - 46
A079911	poly	0	6	h^6 - 9*h^5 + 60*h^4 - 225*h^3 + 555*h^2 - 774*h + 484
A079912	poly	0	7	h^7 - 14*h^6 + 126*h^5 - 700*h^4 + 2625*h^3 - 6342*h^2 + 9072*h - 5840
A079913	poly	0	8	h^8 - 20*h^7 + 238*h^6 - 1820*h^5 + 9625*h^4 - 35000*h^3 + 84448*h^2 - 122240*h + 80680
A079914	poly	0	9	h^9 - 27*h^8 + 414*h^7 - 4158*h^6 + 29421*h^5 - 148743*h^4 + 530796*h^3 - 1276992*h^2 + 1866384*h - 1255608
A079915	poly	0	10	h^10 - 35*h^9 + 675*h^8 - 8610*h^7 + 78435*h^6 - 523467*h^5 + 2562525*h^4 - 9008160*h^3 + 21623220*h^2 - 31840760*h + 21750840
A079916	poly	0	11	h^11 - 44*h^10 + 1045*h^9 - 16500*h^8 + 187935*h^7 - 1595748*h^6 + 10199343*h^5 - 48691500*h^4 + 169140180*h^3 - 405230320*h^2 + 600311624*h - 415232800
A079917	poly	0	12	h^12 - 54*h^11 + 1551*h^10 - 29700*h^9 + 413325*h^8 - 4342734*h^7 + 34987029*h^6 - 216227880*h^5 + 1011824550*h^4 - 3480816240*h^3 + 8325897096*h^2 - 12395039040*h + 8663105920
A079918	poly	0	13	h^13 - 65*h^12 + 2223*h^11 - 50765*h^10 + 847275*h^9 - 10778625*h^8 + 106593201*h^7 - 824287035*h^6 + 4958991180*h^5 - 22829270750*h^4 + 77905071816*h^3 - 186084177240*h^2 + 278172641760*h - 196133004800
A079919	poly	0	14	h^14 - 77*h^13 + 3094*h^12 - 83083*h^11 + 1637636*h^10 - 24785761*h^9 + 294696402*h^8 - 2779448529*h^7 + 20797459683*h^6 - 122389753486*h^5 + 555826054784*h^4 - 1883902028008*h^3 + 4494445040176*h^2 - 6742111050752*h + 4789534153984
A079920	poly	0	15	h^15 - 90*h^14 + 4200*h^13 - 131040*h^12 + 3011190*h^11 - 53441388*h^10 + 751250500*h^9 - 8470570680*h^8 + 76896261585*h^7 - 560015385930*h^6 + 3235452199980*h^5 - 14525684311320*h^4 + 48947506506080*h^3 - 116650912956480*h^2 + 175512302620800*h - 125495209214208

# A000027	terms	0	10	1,2,3,4,5,6,7,8,9,10
# A002061	terms	0	10	1,3,7,13,21,31,43,57,73,91
A079908	terms	0	40	1,4,14,36,76,140,234,364,536,756,1030,1364,1764,2236,2786,3420,4144,4964,5886,6916,8060,9324,10714,12236,13896,15700,17654,19764,22036,24476,27090,29884,32864,36036,39406,42980,46764,50764,54986,59436
A079909	terms	0	34	1,5,26,90,246,566,1146,2106,3590,5766,8826,12986,18486,25590,34586,45786,59526,76166,96090,119706,147446,179766,217146,260090,309126,364806,427706,498426,577590,665846,763866,872346,992006,1123590
A079910	terms	0	31	1,6,46,212,738,2104,5150,11196,22162,40688,70254,115300,181346,275112,404638,579404,810450,1110496,1494062,1977588,2579554,3320600,4223646,5314012,6619538,8170704,10000750,12145796,14644962,17540488,20877854
A079911	terms	0	28	1,7,79,478,2108,7364,21652,55532,127604,268108,523244,960212,1672972,2788724,4475108,6948124,10480772,15412412,22158844,31223108,43207004,58823332,78908852,104437964,136537108,176499884,225802892,286122292
A079912	terms	0	25	1,8,133,1044,5794,24720,86608,260720,693552,1666000,3675680,7549488,14591440,26770832,46955760,79197040,129067568,204062160,314062912,471875120,693838800,1000520848,1417492880,1976199792,2714924080
A079913	terms	0	26	1,9,221,2227,15458,80196,334072,1173240,3598120,9856552,24553080,56423032,121013800,244555560,469343992,860997880,1517994792,2583928360,4262971000,6839066232,10699415080,16362861352,24513820920,36042440440,52091711272,74112304680
A079914	terms	0	22	1,10,364,4664,40296,253072,1249768,5112544,17990600,56010096,157175032,403579328,959942664,2136701200,4488418616,8961185952,17105944648,31378295984,55549351800,95256535936,158727963272,257719103568
A079915	terms	0	19	1,11,596,9627,103129,780902,4557284,21670160,87396728,308055528,971055240,2780440664,7324967640,17945144328,41249101928,89635336440,185317652664,366517590440,696695849928
A079916	terms	0	19	1,12,972,19640,260019,2365772,16266830,89700624,413977192,1650607040,5826331440,18558391936,54055214144,145576033920,365883104080,865023114560,1936764883296,4130528893504,8433028861040
A079917	terms	0	15	1,13,1581,39684,647617,7058469,57031078,363862092,1918222840,8641355080,34132685120,120629547584,387665694976,1145875468544,3145428883520
A079918	terms	0	14	1,14,2567,79544,1596800,20789082,196933710,1450606028,8719846960,44321202192,195717772000,767025716736,2713659864832,8787898861568
A079919	terms	0	13	1,15,4163,158364,3904260,60560175,671224467,5697401802,38983643908,223245029176,1100925116264,4780871048064,18612106195456,65909241461760,214868401724416
# A079919	terms	0	13	1,15,4163,158364,3904260,60560175,671224467,5697401802,38983643908,223245029176,1100925116264,4780871048064,18612106195456
A079920	terms	0	12	1,16,6746,313464,9479292,174763208,2262089361,22088730348,171764779170,1106667645872,6087616677864,29267369636800,125299076209408,485013257865472,1718947213795328
# A079920	terms	0	12	1,16,6746,313464,9479292,174763208,2262089361,22088730348,171764779170,1106667645872,6087616677864,29267369636800

