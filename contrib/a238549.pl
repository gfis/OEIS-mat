#!perl

# A238549       a(n) is one fourth of the total number of free ends of 4 line segments expansion at n iterations
# 2019-02-20, Georg Fischer
use strict;
use integer;

my @terms = (1, 2, 6, 8, 16, 20, 36, 44, 76, 92, 156, 188, 316, 380, 636, 764,
1276, 1532, 2556, 3068, 5116, 6140, 10236, 12284, 20476, 24572, 40956, 49148,
81916, 98300, 163836, 196604, 327676, 393212, 655356, 786428, 1310716, 1572860,
2621436, 3145724, 5242876, 6291452, 10485756
    );

my $n = 1;
foreach my $term(@terms) {
    print sprintf("%2d %16b %8d", $n ++, $term, $term);
    my $comp = 0;
    my $pow;
    my $add;
    if ($n % 2 == 0) {
        $pow = ($n + 2) / 2;
        $comp = 2**$pow + 4 * (2**($pow - 4) - 1);
    } else {
        $pow = ($n + 1) / 2;
        $comp = 2**$pow + 4 * (2**($pow - 3) - 1);
    }
    print sprintf("%20b %10d", $comp, $comp);
    print "\n";
}
__DATA__
COMMENTS
There is a pattern in base 2:
 1                1        1
 2               10        2
 3              110        6
 4             1000        8
 5            10000       16
 6            10100       20
 7           100100       36
 8           101100       44
 9          1001100       76
10          1011100       92
11         10011100      156
12         10111100      188
13        100111100      316
14        101111100      380
15       1001111100      636
16       1011111100      764
17      10011111100     1276
18      10111111100     1532
19     100111111100     2556
20     101111111100     3068
21    1001111111100     5116
22    1011111111100     6140
23   10011111111100    10236
24   10111111111100    12284

MATHEMATICA
LinearRecurrence[{1, 2, -2}, {1, 2, 6}, 43]
